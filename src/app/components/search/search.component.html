<!-- src/app/search/search.component.html -->
<div style="
    background-image: url('../assets/images/ho12.png');
    background-size: cover;
    background-position: center;
    min-height: 100vh;
    padding: 2rem;
  ">
  <div class="container">
    <h2>Search Rooms</h2>

    <form (ngSubmit)="search()">
      <div>
        <label>Check-in Date:</label>
        <input type="date" [(ngModel)]="checkInDate" name="checkInDate" required />
      </div>

      <div>
        <label>Nights:</label>
        <input type="number" [(ngModel)]="nights" name="nights" min="1" required />
      </div>

      <div>
        <label>Number of Adults:</label>
        <input type="number" [(ngModel)]="numberOfAdults" name="numberOfAdults" min="1" required />
      </div>

      <button type="submit">Search</button>
    </form>

    <!-- <div *ngIf="submitted && message">
    <p>{{ message }}</p>
  </div> -->

    <div *ngIf="submitted && results.length > 0" class="available-rooms-container">
      <h3 class="available-rooms-title">Available Rooms</h3>

      <div class="cards-container">
        <mat-card *ngFor="let result of results" class="room-card mat-elevation-z4">
          <mat-card-header>
            <mat-card-title>{{ result.hotelName }}</mat-card-title>
            <mat-card-subtitle>{{ result.roomTypeName }}</mat-card-subtitle>
          </mat-card-header>

          <mat-card-content>
            <p><strong>Total Price:</strong> {{ result.totalPrice | currency }}</p>
            <div style="display: flex; align-items: center; gap: 6px;">
              <mat-icon [style.color]="result.availability.toLowerCase() === 'available' ? 'green' : 'red'">
                {{ result.availability.toLowerCase() === 'available' ? 'check_circle' : 'cancel' }}
              </mat-icon>
              <span [style.color]="result.availability.toLowerCase() === 'available' ? 'green' : 'red'">
                {{ result.availability }}
              </span>
            </div>

          </mat-card-content>
        </mat-card>
      </div>
    </div>


  </div>